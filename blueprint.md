---
# 项目：AI 自动化软件工厂 (Blueprint v2.2.43)

## 1. 核心模型能力与定位

基于当前可用的模型，定义以下分工以实现性价比和质量的平衡：

请谨慎使用此类代码。

模型名称	能力重点	最佳使用场景
Opus 4.5	顶尖推理/架构设计 [1]	用于复杂的系统架构决策、跨文件重构计划和数据库 Schema 设计。
GPT-5.1 Codex Max	长文本理解/高效执行 [1]	负责执行具体的编码任务、大规模代码生成和详细的 Bug 修复。
Gemini 3 Flash	多模态/超快响应 [1]	用于 UI 视觉分析、快速问答和文档摘要。成本最低、速度最快。

## 2. 生产关系协议 (Supervision Protocol)

智能分级调用： 监工 AI 必须根据任务复杂度自动选择模型。架构设计用 Opus 4.5，具体编码用 GPT-5.1 Codex Max，UI 评审用 Gemini 3 Flash。
TDD 强制执行： 任何代码提交前，必须运行并通单元测试（npm test）。模型不得跳过此规则。
上下文管理： 利用 MCP (Model Context Protocol) 协议确保 AI 感知整个代码库及相关文档，防止上下文丢失。
自愈机制： 若 CI/CD 流程失败，AI 应读取错误日志并尝试分析修复错误至少 3 次。失败后生成详细报告请求甲方介入。

## 3. 验收标准与工作流程 (DoD & Workflow)

代码质量： 所有 API 必须符合 OpenAPI 规范，性能指标需在 200ms 内。
版本控制： 仅通过 PR（Pull Request）合并代码。监工 AI 将自动创建 PR 并运行 GitHub Actions 进行自动化测试。
部署流程： 监工 AI 将使用 Dockerfile 容器化应用，并自动化部署到 AWS 环境（需要 IAM Key）。生成预览链接供甲方测试。

## 操作流程（使用 Cursor 2.2.43+）

以下是作为甲方需要遵循的四个核心步骤：

1. 准备基础设施（提供“地基”）
   - GitHub： 创建一个私有仓库。
   - 云服务（可选）： 准备 AWS 访问密钥（Access Key）。
   - Cursor： 安装 2.2.43+ 版本，并在 Settings -> Models 中配置好 Anthropic、OpenAI、Google 等 API 密钥，以启用上述模型。

2. 固化监工规则（粘贴配置）
   - 将上述“生产关系协议”和“验收标准”复制并粘贴到 Cursor Settings -> Rules for AI 中。

3. 启动任务（发号施令）
   - 在 Cursor 中按下 Cmd + I 呼出 Composer 模式。
   - 输入项目目标（例如：“根据 blueprint.md，开始构建用户认证模块”）。

4. 审查与验收（远程监工）
   - 监工 AI 将自动执行任务、运行测试、推送到 GitHub，并（如果提供了 AWS Key）自动部署并生成预览链接。
   - 只需点击链接进行功能验收。

请根据以上内容整理出一份更厉害的AI高效高质量高性价比的操作文档。
---